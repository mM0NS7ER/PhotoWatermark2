# 照片水印应用 - 功能需求列表

## 1. 文件处理

### 1.1 导入图片
- **ID**: FP-01
- **优先级**: 高
- **描述**: 单张图片导入功能
- **子需求**:
  - FP-01-01: 支持拖拽图片文件到应用界面进行导入
  - FP-01-02: 支持通过文件选择器选择单张图片进行导入
- **验收标准**: 用户能够成功导入单张图片并在界面中显示

- **ID**: FP-02
- **优先级**: 高
- **描述**: 批量导入功能
- **子需求**:
  - FP-02-01: 支持通过文件选择器一次性选择多张图片进行导入
  - FP-02-02: 支持导入整个文件夹中的所有图片
- **验收标准**: 用户能够成功批量导入多张图片并在界面中显示

- **ID**: FP-03
- **优先级**: 高
- **描述**: 图片列表显示
- **子需求**:
  - FP-03-01: 在界面中显示已导入图片的列表
  - FP-03-02: 列表中显示每张图片的缩略图和文件名
  - FP-03-03: 用户可点击列表项切换预览不同的图片
- **验收标准**: 用户能够通过列表查看和管理已导入的图片

### 1.2 支持格式
- **ID**: FP-04
- **优先级**: 高
- **描述**: 输入格式支持
- **子需求**:
  - FP-04-01: 支持JPEG格式
  - FP-04-02: 支持PNG格式（包括透明通道）
  - FP-04-03: 支持BMP格式
  - FP-04-04: 支持TIFF格式
- **验收标准**: 应用能够正确打开和处理上述格式的图片

- **ID**: FP-05
- **优先级**: 中
- **描述**: 输出格式支持
- **子需求**:
  - FP-05-01: 用户可选择输出为JPEG格式
  - FP-05-02: 用户可选择输出为PNG格式
- **验收标准**: 用户能够选择并导出为JPEG或PNG格式的图片

### 1.3 导出图片
- **ID**: FP-06
- **优先级**: 高
- **描述**: 输出文件夹设置
- **子需求**:
  - FP-06-01: 用户可指定一个输出文件夹
  - FP-06-02: 默认禁止导出到原文件夹，防止覆盖原图
- **验收标准**: 用户能够选择输出文件夹，且系统会防止导出到原文件夹

- **ID**: FP-07
- **优先级**: 高
- **描述**: 文件命名规则
- **子需求**:
  - FP-07-01: 保留原文件名
  - FP-07-02: 添加自定义前缀（如wm_）
  - FP-07-03: 添加自定义后缀（如_watermarked）
- **验收标准**: 导出的文件名符合用户指定的命名规则

- **ID**: FP-08
- **优先级**: 低
- **描述**: 高级导出选项
- **子需求**:
  - FP-08-01: 对于JPEG格式，提供图片质量（压缩率）调节滑块（0-100）
  - FP-08-02: 导出时允许用户调整图片尺寸（如按宽度、高度或百分比缩放）
- **验收标准**: 用户能够调整JPEG图片质量和图片尺寸

## 2. 水印类型

### 2.1 文本水印
- **ID**: WT-01
- **优先级**: 高
- **描述**: 文本内容设置
- **子需求**:
  - WT-01-01: 用户可自定义输入任意文本
- **验收标准**: 用户能够输入并显示自定义文本作为水印

- **ID**: WT-02
- **优先级**: 高
- **描述**: 字体设置
- **子需求**:
  - WT-02-01: 可选择系统已安装的字体
  - WT-02-02: 可调整字号
  - WT-02-03: 可设置粗体、斜体
- **验收标准**: 用户能够选择字体、调整字号和设置粗体、斜体

- **ID**: WT-03
- **优先级**: 高
- **描述**: 颜色设置
- **子需求**:
  - WT-03-01: 提供调色板让用户选择字体颜色
- **验收标准**: 用户能够选择文本水印的颜色

- **ID**: WT-04
- **优先级**: 高
- **描述**: 透明度设置
- **子需求**:
  - WT-04-01: 可调节文本的透明度（0-100%）
- **验收标准**: 用户能够调整文本水印的透明度

- **ID**: WT-05
- **优先级**: 中
- **描述**: 文本效果设置
- **子需求**:
  - WT-05-01: 可添加阴影效果
  - WT-05-02: 可添加描边效果
- **验收标准**: 用户能够为文本水印添加阴影或描边效果

### 2.2 图片水印
- **ID**: WT-06
- **优先级**: 中
- **描述**: 图片水印导入
- **子需求**:
  - WT-06-01: 用户可从本地选择一张图片（如Logo）作为水印
- **验收标准**: 用户能够导入图片作为水印

- **ID**: WT-07
- **优先级**: 中
- **描述**: 图片水印格式支持
- **子需求**:
  - WT-07-01: 支持带透明通道的PNG图片
- **验收标准**: 应用能够正确处理带透明通道的PNG图片水印

- **ID**: WT-08
- **优先级**: 中
- **描述**: 图片水印缩放
- **子需求**:
  - WT-08-01: 可按比例或自由调整图片水印的大小
- **验收标准**: 用户能够调整图片水印的大小

- **ID**: WT-09
- **优先级**: 中
- **描述**: 图片水印透明度
- **子需求**:
  - WT-09-01: 可调节图片水印的整体透明度（0-100%）
- **验收标准**: 用户能够调整图片水印的透明度

## 3. 水印布局与样式

### 3.1 实时预览
- **ID**: WL-01
- **优先级**: 高
- **描述**: 实时预览功能
- **子需求**:
  - WL-01-01: 所有对水印的调整都应在主预览窗口中实时显示效果
  - WL-01-02: 用户可以点击图片列表切换预览不同的图片
- **验收标准**: 用户能够实时看到水印调整的效果，并能够切换预览不同图片

### 3.2 位置调整
- **ID**: WL-02
- **优先级**: 高
- **描述**: 预设位置
- **子需求**:
  - WL-02-01: 提供九宫格布局（四角、正中心）
  - WL-02-02: 用户可一键将水印放置在这些位置
- **验收标准**: 用户能够通过预设按钮快速将水印放置到指定位置

- **ID**: WL-03
- **优先级**: 高
- **描述**: 手动拖拽
- **子需求**:
  - WL-03-01: 用户可以直接在预览图上通过鼠标拖拽水印到任意位置
- **验收标准**: 用户能够通过鼠标拖拽将水印移动到任意位置

### 3.3 旋转功能
- **ID**: WL-04
- **优先级**: 低
- **描述**: 水印旋转
- **子需求**:
  - WL-04-01: 提供滑块或输入框，允许用户以任意角度旋转水印
- **验收标准**: 用户能够调整水印的旋转角度

## 4. 配置管理

### 4.1 水印模板
- **ID**: CM-01
- **优先级**: 中
- **描述**: 保存模板
- **子需求**:
  - CM-01-01: 用户可以将当前的水印设置保存为一个模板
- **验收标准**: 用户能够保存当前的水印设置为模板

- **ID**: CM-02
- **优先级**: 中
- **描述**: 加载模板
- **子需求**:
  - CM-02-01: 用户可以加载已保存的模板
- **验收标准**: 用户能够加载已保存的模板

- **ID**: CM-03
- **优先级**: 中
- **描述**: 管理模板
- **子需求**:
  - CM-03-01: 用户可以删除已保存的模板
- **验收标准**: 用户能够删除不需要的模板

- **ID**: CM-04
- **优先级**: 低
- **描述**: 自动加载
- **子需求**:
  - CM-04-01: 程序启动时可自动加载上一次关闭时的设置或一个默认模板
- **验收标准**: 应用启动时自动加载上一次的设置或默认模板
